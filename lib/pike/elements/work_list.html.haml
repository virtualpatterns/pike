/
  #{__FILE__}
%ul.list{attributes}
  - is_even = true
  %li.total
    Total:
    %span.total
      = ChronicDuration.output(Pike::Work.round_to_minute(Pike::Elements::WorkList::Item.total_duration(self.items)))
  - self.items.each_with_index do |item, index|
    - unless item.task.flag == @flag
      %li.flag
        = Pike::Task::FLAG_NAMES[item.task.flag]
    %li.item{:class => ( item.started? ? 'started' : ( is_even ? 'even' : 'odd' ) )}
      %div.item
        - if today?
          %a.start{:class => item.started? ? 'started' : nil, :href => '', :index => index}
        %a.edit{:href => '', :index => index}
          %div.task_work
            %div.task
              %div.project
                = item.task.project.name
              %div.activity
                = item.task.activity.name
            %div.work{:work_id => ( item.work ? item.work.id : nil )}
              = ChronicDuration.output(Pike::Work.round_to_minute(item.work.duration)) if item.worked?
    - @flag = item.task.flag
    - is_even = !is_even
